{% load static %}

<html>
    <head>
        <title>hanndull's site</title>
        <link href="https://fonts.googleapis.com/css?family=Lato:300|Roboto+Mono&display=swap" rel="stylesheet" type="text/css"> 
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="{% static 'css/site.css' %}">
        {% block head %}
        {% endblock %}
    </head>

    <body>

        <nav class="navbar navbar-default">
            <div class="content container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#johnsonh-toggle-nav" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/">johnsonh.com</a>
                </div>

                <div class="collapse navbar-collapse" id="johnsonh-toggle-nav">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="{% url 'project_list' %}">Projects</a></li>
                        <li><a href="{% url 'show_contact' %}">Contact</a></li>
                        <li class="dropdown primary">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">More<span class="caret"></span></a>
                            <ul class="dropdown-menu">

                                {% if user.is_authenticated %}
                                    
                                    <li><a class="dropdown-item disabled"><p>Hello, {{ user.username }}!</p></a></li>
                                    <li><a class="dropdown-item" href="{% url 'post_list' %}">Blog</a></li>
                                    <li><a class="dropdown-item" href="{% url 'project_new' %}">New Project</a></li>
                                    <li><a class="dropdown-item" href="{% url 'project_draft_list' %}">Project Drafts</a></li>
                                    <li><a class="dropdown-item" href="{% url 'post_new' %}">New Post</a></li>
                                    <li><a class="dropdown-item" href="{% url 'post_draft_list' %}">Post Drafts</a></li>
                                    <li><a class="dropdown-item" href="/admin">Admin Portal</a></li>
                                    <li><a class="dropdown-item" href="{% url 'logout' %}">Log Out</a></li>
                                    
                                {% else %}   
                                    <li><a class="dropdown-item" href="{% url 'post_list' %}">Blog</a></li>
                                    <li><a class="dropdown-item" href="{% url 'login' %}">Admin Login</a></li>

                                {% endif %}

                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="content container-fluid">
            <div class="row justify-content-between">
                <div class="col-lg-8 col-md-8 col-sm-8 col-xs-11">
                    {% block content %}
                    {% endblock %}
                </div>
                {% block extracolumn %}
                {% endblock %}
            </div>
        </div>
        
        <script language="javascript" type="text/javascript">
            $(document).ready(function(){
                $(".dropdown-toggle").dropdown();
            });
        </script>

    </body>
</html>